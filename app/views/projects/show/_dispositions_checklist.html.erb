<% form_id = 'form-property-disposition-checklist' %>

<%= render '/projects/show/shared/summary', local_assigns %>

<%= render '/projects/show/shared/tabs', **local_assigns, active: 'Dispositions' %>

<%= spacer(4) %>

<%= render '/projects/show/shared/dispositions_inner_tabs', local_assigns.merge(active: 'Checklist') %>

<div id="property-disposition-checklist" data-controller="property-disposition-checklist" class="<%= normal_text %>">
  <%= form_with(url: "/property_disposition_checklists/#{project.property_disposition_checklist.id}", method: :patch, class: 'd-inline-block main-form', data: { property_disposition_checklist_target: 'form' }, id: form_id) do |form| %>
  <% end %>

  <div class="container pt-3 pb-3">
    <%= render '/card', title: 'Property Dispositions Checklist' do |p| %>

      <% if defined?(:p) && p %>
        <% p.content_for :heading_right do %>
          <%= project.intake_form.what_type_of_property_is_this.presence || '-' %>
        <% end %>
      <% end %>

      <%= render '/property_disposition_checklists/edit/segment_1', project_id: project.id, form_id: form_id %>
      <% if project.intake_form.what_type_of_property_is_this != "Outside buyer" %>
      <%= render '/property_disposition_checklists/edit/segment_2', project_id: project.id, form_id: form_id %>
      <%= render '/property_disposition_checklists/edit/segment_3', project_id: project.id, form_id: form_id %>
      <%= render '/property_disposition_checklists/edit/segment_4', project_id: project.id, form_id: form_id %>
      <%= render '/property_disposition_checklists/edit/segment_5', project_id: project.id, form_id: form_id %>
      <% end %>
    <% end %>
  </div><!-- /container -->
</div>
